{"version":3,"sources":["types/types.js","reducers/uiReducer.js","reducers/notesReducer.js","store/store.js","reducers/authReduces.js","firebase/firebase-config.js","helpers/loadNotes.js","helpers/fileUpload.js","actions/notes.js","actions/ui.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","routers/PrivateRoute.js","routers/PublicRoute.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/journal/NothingSelected.js","components/journal/JournalScreen.js","routers/AppRouter.js","JournalApp.js","index.js"],"names":["types","initialState","loading","msgError","notes","active","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","auth","state","action","type","uid","payload","name","displayName","ui","map","note","id","updated","filter","store","createStore","applyMiddleware","thunk","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","googleAuthProvider","GoogleAuthProvider","loadNotes","a","collection","orderBy","get","notesSnap","forEach","snapHijo","push","data","fileUpload","file","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","activeNote","idDos","addNewNote","startLoadingNotes","dispatch","console","log","setNotes","startSaveNote","getState","url","noteToFirestore","doc","update","refreshNote","Swal","fire","title","deleteNote","setError","err","uiFinishLoading","startLoginEmailPassword","email","password","signInWithEmailAndPassword","then","user","login","catch","e","message","logout","useForm","useState","values","setValues","reset","newFormState","handleInputChange","target","value","LoginScreen","useDispatch","useSelector","formValues","querySnapshot","className","onSubmit","preventDefault","placeholder","autoComplete","onChange","disabled","onClick","signInWithPopup","src","alt","to","RegisterScreen","password2","isFormValid","trim","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","startRegisterWithEmailPasswordName","AuthRouter","exact","path","component","PrivateRoute","isAuthenticated","Component","rest","props","PublicRoute","NotesAppBar","style","display","files","text","allowOutsideClick","onBeforeOpen","showLoading","fileUrl","close","startUploading","document","querySelector","click","NoteScreen","activeId","useRef","useEffect","current","delete","startDeleting","JournalEntry","date","noteDate","moment","customNote","backgroundSize","backgroundImage","format","JournalEntries","Sidebar","signOut","newNote","Date","getTime","add","docDos","NothingSelected","JournalScreen","AppRouter","cheking","setCheking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","JournalApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0cd059dd.chunk.js","sourcesContent":["export const types = {\n  login: '[Auth] Login',\n  logout: '[Auth] Logout',\n\n  uiSetError: '[UI] Set Error',\n  uiRemoveError: '[UI] Remove Error',\n\n  uiStartLoading: '[UI] Start loading',\n  uiFinishLoading: '[UI] Finish loading',\n\n  notesAddNew: '[Notes] New note',\n  notesActive: '[Notes] Set active note',\n  notesLoad: '[Notes] Load notes',\n  notesUpdated: '[Notes] Updated note',\n  notesFileUrl: '[Notes] Updated image url',\n  notesDelete: '[Notes] Delete note',\n  notesLogoutCleaning: '[Notes] Logout Cleaning',\n};\n","import { types } from '../types/types';\n\nconst initialState = {\n  loading: false,\n  msgError: null,\n};\n\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.uiSetError:\n      return {\n        ...state,\n        msgError: action.payload,\n      };\n    case types.uiRemoveError:\n      return {\n        ...state,\n        msgError: null,\n      };\n\n    case types.uiStartLoading:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case types.uiFinishLoading:\n      return {\n        ...state,\n        loading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { types } from '../types/types';\n\nconst initialState = {\n  notes: [],\n  active: null,\n};\n\nexport const notesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.notesActive:\n      return {\n        ...state,\n        active: {\n          ...action.payload,\n        },\n      };\n\n    case types.notesAddNew:\n      return {\n        ...state,\n        notes: [action.payload, ...state.notes],\n      };\n\n    case types.notesLoad:\n      return {\n        ...state,\n        notes: [...action.payload],\n      };\n\n    case types.notesUpdated:\n      return {\n        ...state,\n        notes: state.notes.map(note =>\n          note.id === action.payload.id ? action.payload.note : note\n        ),\n        active: {\n          ...state.active,\n          updated: true,\n        },\n      };\n\n    case types.notesDelete:\n      return {\n        ...state,\n        active: null,\n        notes: state.notes.filter(note => note.id !== action.payload),\n      };\n\n    case types.notesLogoutCleaning:\n      return {\n        ...state,\n        active: null,\n        notes: [],\n      };\n\n    default:\n      return state;\n  }\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport { authReducer } from '../reducers/authReduces';\nimport { uiReducer } from '../reducers/uiReducer';\nimport { notesReducer } from '../reducers/notesReducer';\n\nconst composeEnhancers =\n  (typeof window !== 'undefined' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\nconst reducers = combineReducers({\n  auth: authReducer,\n  ui: uiReducer,\n  notes: notesReducer,\n});\n\nexport const store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(thunk))\n);\n","import { types } from '../types/types';\n\nexport const authReducer = (state = {}, action) => {\n  switch (action.type) {\n    case types.login:\n      return {\n        uid: action.payload.uid,\n        name: action.payload.displayName,\n      };\n\n    case types.logout:\n      return {};\n\n    default:\n      return state;\n      break;\n  }\n};\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n  projectId: process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_APPID,\n};\n\n// const firebaseConfigTesting = {\n//   apiKey: 'AIzaSyAPo-WAc4SGQ4D4LbFwymkDDVQX7b-Zx5hs',\n//   authDomain: 'react-testings-981ea.firebaseapp.com',\n//   projectId: 'react-testings-981ea',\n//   storageBucket: 'react-testings-981ea.appspot.com',\n//   messagingSenderId: '856201897362',\n//   appId: '1:856201897362:web:0b47a242b31459c8958d4b',\n// };\n\n// if (process.env.NODE_ENV === 'test') {\n//   // testing\n//   firebase.initializeApp(firebaseConfigTesting);\n// } else {\n//   // dev / prod\n//   firebase.initializeApp(firebaseConfig);\n// }\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, googleAuthProvider, firebase };\n\n/* \nrules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n\t\tmatch /{document=**} {\n      allow read, write: if request.auth != null;\n    }\n  }  \n} */\n","import { db } from '../firebase/firebase-config';\n\nexport const loadNotes = async uid => {\n  const notesSnap = await db\n    .collection(`${uid}/journal/notes`)\n    .orderBy('date', 'asc')\n    .get();\n  const notes = [];\n\n  notesSnap.forEach(snapHijo => {\n    notes.push({\n      id: snapHijo.id,\n      ...snapHijo.data(),\n    });\n  });\n\n  return notes;\n};\n","export const fileUpload = async file => {\n  const cloudUrl = 'https://api.cloudinary.com/v1_1/dliwhrdin/upload';\n\n  const formData = new FormData();\n  formData.append('upload_preset', 'react-journal');\n  formData.append('file', file);\n\n  try {\n    const resp = await fetch(cloudUrl, {\n      method: 'POST',\n      body: formData,\n    });\n\n    if (resp.ok) {\n      const cloudResp = await resp.json();\n      return cloudResp.secure_url;\n    } else {\n      return null;\n      // throw await resp.json();\n    }\n  } catch (err) {\n    throw err;\n  }\n};\n","import Swal from 'sweetalert2';\n\nimport { db } from '../firebase/firebase-config';\nimport { types } from '../types/types';\nimport { loadNotes } from '../helpers/loadNotes';\nimport { fileUpload } from '../helpers/fileUpload';\n\nexport const startNewNote = () => {\n  return async (dispatch, getState) => {\n    const { uid } = getState().auth;\n\n    const newNote = {\n      title: '',\n      body: '',\n      date: new Date().getTime(),\n    };\n\n    try {\n      const doc = await db.collection(`${uid}/journal/notes`).add(newNote);\n      const docDos = await db.collection(`admin/journal/notes`).add(newNote);\n\n      //console.log('doc: ', doc);\n\n      dispatch(activeNote(doc.id, docDos.id, newNote));\n      dispatch(addNewNote(doc.id, newNote));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const activeNote = (id, idDos, note) => ({\n  type: types.notesActive,\n  payload: {\n    id,\n    idDos,\n    ...note,\n  },\n});\n\nexport const addNewNote = (id, note) => ({\n  type: types.notesAddNew,\n  payload: {\n    id,\n    ...note,\n  },\n});\n\nexport const startLoadingNotes = uid => {\n  return async dispatch => {\n    const notes = await loadNotes(uid);\n    console.log('notes', notes);\n    console.log('uid', uid);\n    dispatch(setNotes(notes));\n  };\n};\n\nexport const setNotes = notes => ({\n  type: types.notesLoad,\n  payload: notes,\n});\n\nexport const startSaveNote = note => {\n  console.log('startSaveNote paso 2 !importante\"', note);\n\n  return async (dispatch, getState) => {\n    const { uid } = getState().auth;\n\n    const { notes } = getState();\n    const { active } = notes;\n\n    if (!note.url) {\n      delete note.url;\n    }\n\n    const noteToFirestore = { ...note };\n    //delete noteToFirestore.id;\n\n    console.log('Notes ID', note);\n    console.log('Notes ID', noteToFirestore);\n\n    const docUno = await db\n      .doc(`${uid}/journal/notes/${note.id}`)\n      .update(noteToFirestore);\n\n    await db.doc(`admin/journal/notes/${note.idDos}`).update(noteToFirestore);\n\n    //dispatch(addNewNote(docDos, noteToFirestore));\n    dispatch(refreshNote(note.id, noteToFirestore));\n\n    Swal.fire('Saved', note.title, 'success');\n  };\n};\n\nexport const refreshNote = (id, note) => ({\n  type: types.notesUpdated,\n  payload: {\n    id,\n    note: {\n      id,\n      ...note,\n    },\n  },\n});\n\nexport const startUploading = file => {\n  return async (dispatch, getState) => {\n    const { active: activeNote } = getState().notes;\n\n    Swal.fire({\n      title: 'Uploading...',\n      text: 'Please wait...',\n      allowOutsideClick: false,\n      onBeforeOpen: () => {\n        Swal.showLoading();\n      },\n    });\n\n    const fileUrl = await fileUpload(file);\n    activeNote.url = fileUrl;\n\n    dispatch(startSaveNote(activeNote));\n\n    Swal.close();\n  };\n};\n\nexport const startDeleting = id => {\n  return async (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    await db.doc(`${uid}/journal/notes/${id}`).delete();\n    await db.doc(`admin/journal/notes/${id}`).delete();\n\n    dispatch(deleteNote(id));\n  };\n};\n\nexport const deleteNote = id => ({\n  type: types.notesDelete,\n  payload: id,\n});\n\nexport const noteLogout = () => ({\n  type: types.notesLogoutCleaning,\n});\n","import { types } from '../types/types';\n\nexport const setError = err => ({\n  type: types.uiSetError,\n  payload: err,\n});\n\nexport const removeError = () => ({\n  type: types.uiRemoveError,\n});\n\nexport const uiStartLoading = () => ({\n  type: types.uiStartLoading,\n});\n\nexport const uiFinishLoading = () => ({\n  type: types.uiFinishLoading,\n});\n","import Swal from 'sweetalert2';\n\nimport { firebase, googleAuthProvider } from '../firebase/firebase-config';\nimport { types } from '../types/types';\nimport { noteLogout } from './notes';\nimport { uiFinishLoading, uiStartLoading } from './ui';\n\nexport const startLoginEmailPassword = (email, password) => {\n  return dispatch => {\n    dispatch(uiStartLoading());\n\n    return firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then(({ user }) => {\n        dispatch(login(user.uid, user.displayName));\n\n        dispatch(uiFinishLoading());\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch(uiFinishLoading());\n        Swal.fire('Error', e.message, 'error');\n      });\n  };\n};\n\nexport const startRegisterWithEmailPasswordName = (email, password, name) => {\n  return dispatch => {\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then(async ({ user }) => {\n        await user.updateProfile({ displayName: name });\n        dispatch(login(user.uid, user.displayName));\n      })\n      .catch(e => {\n        console.log(e);\n        Swal.fire('Error', e.message, 'error');\n      });\n  };\n};\n\nexport const startGoogleLogin = () => {\n  return dispatch => {\n    firebase\n      .auth()\n      .signInWithPopup(googleAuthProvider)\n      .then(({ user }) => {\n        dispatch(login(user.uid, user.displayName));\n      });\n  };\n};\n\nexport const login = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName,\n  },\n});\n\nexport const startLogout = () => {\n  return async dispatch => {\n    await firebase.auth().signOut();\n\n    dispatch(logout());\n    dispatch(noteLogout());\n  };\n};\n\nexport const logout = () => ({\n  type: types.logout,\n});\n","import { useState } from 'react';\n\nexport const useForm = (initialState = {}) => {\n  const [values, setValues] = useState(initialState);\n\n  const reset = (newFormState = initialState) => {\n    setValues(newFormState);\n  };\n\n  const handleInputChange = ({ target }) => {\n    setValues({\n      ...values,\n      [target.name]: target.value,\n    });\n  };\n\n  return [values, handleInputChange, reset];\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { startGoogleLogin, startLoginEmailPassword } from '../../actions/auth';\nimport { db } from '../../firebase/firebase-config';\nimport { useForm } from '../../hooks/useForm';\n\nexport const LoginScreen = () => {\n  const dispatch = useDispatch();\n  const { loading } = useSelector(state => state.ui);\n\n  const [formValues, handleInputChange] = useForm({\n    email: '',\n    password: '',\n  });\n\n  const { email, password } = formValues;\n\n  const handleLogin = e => {\n    e.preventDefault();\n    dispatch(startLoginEmailPassword(email, password));\n  };\n\n  const handleGoogleLogin = () => {\n    dispatch(startGoogleLogin());\n  };\n\n  db.collection('admin/journal/notes')\n    .get()\n    .then(function (querySnapshot) {\n      console.log('qU', querySnapshot);\n\n      querySnapshot.forEach(function (doc) {\n        // doc.data() is never undefined for query doc snapshots\n        console.log(doc.id, ' => ', doc.data());\n      });\n    });\n\n  return (\n    <>\n      <h3 className=\"auth__title\">Login</h3>\n      <form\n        onSubmit={handleLogin}\n        className=\"animate__animated animate__fadeIn animate__faster\"\n      >\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          name=\"email\"\n          className=\"auth__input\"\n          autoComplete=\"off\"\n          value={email}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          name=\"password\"\n          className=\"auth__input\"\n          value={password}\n          onChange={handleInputChange}\n        />\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary btn-block\"\n          disabled={loading}\n        >\n          Login\n        </button>\n\n        <div className=\"auth__social-networks\">\n          <p>Login with social networks</p>\n          <div className=\"google-btn\" onClick={handleGoogleLogin}>\n            <div className=\"google-icon-wrapper\">\n              <img\n                className=\"google-icon\"\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n                alt=\"google button\"\n              />\n            </div>\n            <p className=\"btn-text\">\n              <b>Sign in with google</b>\n            </p>\n          </div>\n        </div>\n        <Link to=\"/auth/register\" className=\"link\">\n          Create new account\n        </Link>\n      </form>\n    </>\n  );\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport validator from 'validator';\nimport { startRegisterWithEmailPasswordName } from '../../actions/auth';\nimport { removeError, setError } from '../../actions/ui';\n\nimport { useForm } from '../../hooks/useForm';\n\nexport const RegisterScreen = () => {\n  const dispatch = useDispatch();\n  const { msgError } = useSelector(state => state.ui);\n\n  const [formValues, handleInputChange] = useForm({\n    name: '',\n    email: '',\n    password: '',\n    password2: '',\n  });\n\n  const { name, email, password, password2 } = formValues;\n\n  const handleRegister = e => {\n    e.preventDefault();\n\n    if (isFormValid()) {\n      dispatch(startRegisterWithEmailPasswordName(email, password, name));\n    }\n  };\n\n  const isFormValid = () => {\n    if (name.trim().length === 0) {\n      dispatch(setError('Name is required'));\n      return false;\n    } else if (!validator.isEmail(email)) {\n      dispatch(setError('Email is not valid'));\n      return false;\n    } else if (password !== password2 || password.length < 5) {\n      dispatch(\n        setError(\n          'Password should be at least 6 characters and match each other'\n        )\n      );\n      return false;\n    }\n\n    dispatch(removeError());\n    return true;\n  };\n\n  return (\n    <>\n      <h3 className=\"auth__title\">Register</h3>\n      <form\n        onSubmit={handleRegister}\n        className=\"animate__animated animate__fadeIn animate__faster\"\n      >\n        {msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          name=\"name\"\n          className=\"auth__input\"\n          autoComplete=\"off\"\n          value={name}\n          onChange={handleInputChange}\n        />\n\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          name=\"email\"\n          className=\"auth__input\"\n          autoComplete=\"off\"\n          value={email}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          name=\"password\"\n          className=\"auth__input\"\n          value={password}\n          onChange={handleInputChange}\n        />\n\n        <input\n          type=\"password\"\n          placeholder=\"Confirm password\"\n          name=\"password2\"\n          className=\"auth__input\"\n          value={password2}\n          onChange={handleInputChange}\n        />\n\n        <button type=\"submit\" className=\"btn btn-primary btn-block mb-5\">\n          Register\n        </button>\n\n        <Link to=\"/auth/login\" className=\"link\">\n          Already registered?\n        </Link>\n      </form>\n    </>\n  );\n};\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { LoginScreen } from '../components/auth/LoginScreen';\nimport { RegisterScreen } from '../components/auth/RegisterScreen';\n\nexport const AuthRouter = () => {\n  return (\n    <div className=\"auth__main\">\n      <div className=\"auth__box-container\">\n        <Switch>\n          <Route exact path=\"/auth/login\" component={LoginScreen} />\n\n          <Route exact path=\"/auth/register\" component={RegisterScreen} />\n\n          <Redirect to=\"/auth/login\" />\n        </Switch>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const PrivateRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      component={props =>\n        isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/auth/login\" />\n        )\n      }\n    />\n  );\n};\n\nPrivateRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const PublicRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      component={props =>\n        isAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />\n      }\n    />\n  );\n};\n\nPublicRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startSaveNote, startUploading } from '../../actions/notes';\n\nexport const NotesAppBar = () => {\n  const dispatch = useDispatch();\n  const { active } = useSelector(state => state.notes);\n\n  console.log('NotesAppBar', active);\n\n  const handleSave = () => {\n    dispatch(startSaveNote(active));\n  };\n\n  const handlePictureClick = () => {\n    document.querySelector('#fileSelector').click();\n  };\n\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      dispatch(startUploading(file));\n    }\n  };\n\n  return (\n    <div className=\"notes__appbar\">\n      <span>August 28, 2020</span>\n\n      <input\n        id=\"fileSelector\"\n        type=\"file\"\n        name=\"file\"\n        style={{ display: 'none' }}\n        onChange={handleFileChange}\n      />\n      <div>\n        <button className=\"btn\" onClick={handlePictureClick}>\n          Picture\n        </button>\n        <button className=\"btn\" onClick={handleSave}>\n          Save\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NotesAppBar } from './NotesAppBar';\nimport { useForm } from '../../hooks/useForm';\nimport { activeNote, startDeleting } from '../../actions/notes';\n\nexport const NoteScreen = () => {\n  const dispatch = useDispatch();\n\n  const { active: note } = useSelector(state => state.notes);\n  const [formValues, handleInputChange, reset] = useForm(note);\n  const { body, title, id } = formValues;\n\n  const activeId = useRef(note.id);\n\n  useEffect(() => {\n    if (note.id !== activeId.current) {\n      reset(note);\n      activeId.current = note.id;\n    }\n  }, [note, reset]);\n\n  console.log('formValues', formValues);\n\n  useEffect(() => {\n    dispatch(activeNote(formValues.id, formValues.idDos, formValues));\n  }, [formValues, dispatch]);\n\n  const handleDelete = () => {\n    dispatch(startDeleting(id));\n  };\n\n  return (\n    <div className=\"notes__main-content\">\n      <NotesAppBar />\n\n      <div className=\"notes__content\">\n        <input\n          name=\"title\"\n          type=\"text\"\n          placeholder=\"Some awesome tittle\"\n          className=\"notes__title-input\"\n          autoComplete=\"off\"\n          value={title}\n          onChange={handleInputChange}\n        />\n\n        <textarea\n          name=\"body\"\n          placeholder=\"what happened today\"\n          className=\"notes__textarea\"\n          value={body}\n          onChange={handleInputChange}\n        ></textarea>\n\n        {note.url && (\n          <div className=\"notes__image\">\n            <img src={note.url} alt=\"imagen\" />\n          </div>\n        )}\n      </div>\n\n      <button className=\"btn btn-danger\" onClick={handleDelete}>\n        Delete\n      </button>\n    </div>\n  );\n};\n","import React from 'react';\nimport moment from 'moment';\nimport { activeNote } from '../../actions/notes';\nimport { useDispatch } from 'react-redux';\n\nexport const JournalEntry = ({ id, idDos, date, title, body, url }) => {\n  const dispatch = useDispatch();\n\n  const noteDate = moment(date);\n\n  const customNote = {\n    date,\n    title,\n    body,\n    url,\n  };\n\n  const handleEntryClick = () => {\n    dispatch(activeNote(id, idDos, customNote));\n  };\n\n  return (\n    <div\n      className=\"journal__entry pointer animate__animated animate__fadeIn animate__faster\"\n      onClick={handleEntryClick}\n    >\n      {url && (\n        <div\n          className=\"journal__entry-picture\"\n          style={{\n            backgroundSize: 'cover',\n            backgroundImage: `url(${url})`,\n          }}\n        ></div>\n      )}\n\n      <div className=\"journal__entry-body\">\n        <p className=\"journal__entry-title\">{title}</p>\n        <p className=\"journal__entry-content\">{body}</p>\n      </div>\n\n      <div className=\"journal__entry-date-box\">\n        <span>{noteDate.format('dddd')}</span>\n        <h4>{noteDate.format('Do')}</h4>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { JournalEntry } from './JournalEntry';\n\nexport const JournalEntries = () => {\n  const { notes } = useSelector(state => state.notes);\n\n  console.log('Journal ENtries', notes);\n\n  return (\n    <div className=\"journal__entries\">\n      {notes.map(note => (\n        <JournalEntry key={note.id} {...note} />\n      ))}\n    </div>\n  );\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { JournalEntries } from './JournalEntries';\nimport { startLogout } from '../../actions/auth';\nimport { startNewNote } from '../../actions/notes';\n\nexport const Sidebar = () => {\n  const dispatch = useDispatch();\n  const { name } = useSelector(state => state.auth);\n\n  const handleLogout = () => {\n    dispatch(startLogout());\n  };\n\n  const handleAddNew = () => {\n    dispatch(startNewNote());\n  };\n\n  return (\n    <aside className=\"journal__sidebar\">\n      <div className=\"journal__sidebar-navbar\">\n        <h3 className=\"mt-5\">\n          <i className=\"far fa-moon\"></i>\n          <span> {name} </span>\n        </h3>\n        <button className=\"btn\" onClick={handleLogout}>\n          Logout\n        </button>\n      </div>\n\n      <div className=\"journal__new-entry\" onClick={handleAddNew}>\n        <i className=\"far fa-calendar-plus fa-5x\"></i>\n        <p className=\"mt-5\">New entry</p>\n      </div>\n\n      <JournalEntries />\n    </aside>\n  );\n};\n","import React from 'react';\n\nexport const NothingSelected = () => {\n  return (\n    <div className=\"nothing__main-content\">\n      <p>\n        Select something\n        <br />\n        pr create an entry!\n      </p>\n      <i className=\"far fa-star fa-4x mt-5\"></i>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NoteScreen } from '../notes/NoteScreen';\nimport { Sidebar } from './Sidebar';\nimport { NothingSelected } from './NothingSelected';\n\nexport const JournalScreen = () => {\n  const { active } = useSelector(state => state.notes);\n\n  return (\n    <div className=\"journal__main-content animate__animated animate__fadeIn animate__faster\">\n      <Sidebar />\n\n      <main>{active ? <NoteScreen /> : <NothingSelected />}</main>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\n\nimport { useDispatch } from 'react-redux';\n\nimport { firebase } from '../firebase/firebase-config';\nimport { AuthRouter } from './AuthRouter';\nimport { PrivateRoute } from './PrivateRoute';\nimport { PublicRoute } from './PublicRoute';\n\nimport { JournalScreen } from '../components/journal/JournalScreen';\nimport { login } from '../actions/auth';\nimport { startLoadingNotes } from '../actions/notes';\n\nexport const AppRouter = () => {\n  const dispatch = useDispatch();\n\n  const [cheking, setCheking] = useState(true);\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(async user => {\n      if (user?.uid) {\n        dispatch(login(user.uid, user.displayName));\n        setIsLoggedIn(true);\n\n        dispatch(startLoadingNotes(user.uid));\n      } else {\n        setIsLoggedIn(false);\n      }\n\n      setCheking(false);\n    });\n  }, [dispatch, setCheking, setIsLoggedIn]);\n\n  if (cheking) {\n    return (\n      <div className=\"loading-spinner\">\n        <div className=\"loading-spinner--item\">\n          <div></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <PublicRoute\n            path=\"/auth\"\n            component={AuthRouter}\n            isAuthenticated={isLoggedIn}\n          />\n          <PrivateRoute\n            exact\n            isAuthenticated={isLoggedIn}\n            path=\"/\"\n            component={JournalScreen}\n          />\n\n          <Redirect to=\"/auth/login\" />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport { store } from './store/store';\nimport { AppRouter } from './routers/AppRouter';\n\nexport const JournalApp = () => {\n  return (\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { JournalApp } from './JournalApp';\nimport './styles/styles.scss';\n\nReactDOM.render(\n  <JournalApp />,\n\n  document.getElementById('root')\n);\n"],"sourceRoot":""}